# Makefile for Autoconf test suite.
# Copyright (C) 1994 Free Software Foundation, Inc.

# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2, or (at your option)
# any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

#### Start of system configuration section. ####

top_srcdir = @top_srcdir@
srcdir = @srcdir@
VPATH = @srcdir@

M4 = @M4@

prefix = @prefix@
exec_prefix = @exec_prefix@

AUTOCONF = ../autoconf
AUTOCONFFLAGS = -m $(top_srcdir)

RUNTEST= runtest
RUNTESTFLAGS=

#### End of system configuration section. ####

SHELL = /bin/sh

all:
info:
dvi:

dejacheck:
	@if $(SHELL) -c 'runtest --version' > /dev/null 2>&1; then :; else \
	  echo ERROR: the autoconf tests require the DejaGNU runtest program; \
	  exit 1; \
	fi

check: dejacheck site.exp all
	$(RUNTEST) $(RUNTESTFLAGS) --tool autoconf AUTOCONF=${AUTOCONF} \
	AUTOCONFFLAGS="${AUTOCONFFLAGS}" --srcdir $(srcdir)

installcheck:

site.exp: Makefile
	@echo "Making a new site.exp file..."
	-@rm -f site.bak
	-@mv site.exp site.bak
	@echo "## these variables are automatically generated by make ##" > site.exp
	@echo "# Do not edit here. If you wish to override these values" >> site.exp
	@echo "# add them to the last section" >> site.exp
	@echo "set tool autoconf" >> site.exp
	@echo "set srcdir ${srcdir}" >> site.exp
	@echo "set objdir `pwd`" >> site.exp
	@echo "## All variables above are generated by configure. Do Not Edit ##" >> site.exp
	-@sed '1,/^## All variables above are.*##/ d' site.bak >> site.exp

install:

install-info:

uninstall:

Makefile: Makefile.in ../config.status
	cd ..; ./config.status

clean mostlyclean distclean maintainer-clean::
	rm -f autoconf.log autoconf.sum site.exp site.bak AC* confdummy* 

distclean maintainer-clean::
	rm -f Makefile config.status config.cache config.log

TAGS:
